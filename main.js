(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r){var o=e.data,i=e.handleCardClick,a=e.handleTrashClick,u=e.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._handleCardClick=i,this._handleTrashClick=a,this._handleLikeClick=u,this._cardSelector=n,this._userId=r,this._name=o.name,this._link=o.link,this._idOwner=o.owner._id,this._cardId=o._id,this._likes=o.likes}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"setLikes",value:function(e){this._element.querySelector(".element__like-counter").textContent=e.length,this._likes=e,this._checkLike()?this._likeButton.classList.add("element__like_active"):this._likeButton.classList.remove("element__like_active")}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_checkLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLikeClick(e._cardId,e._checkLike(),e)})),this._deleteButton.addEventListener("click",(function(){e._handleTrashClick(e._cardId,e)})),this._elementImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".element__image"),this._elementImage.src=this._link,this._elementImage.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._deleteButton=this._element.querySelector(".element__trash"),this._likeButton=this._element.querySelector(".element__like"),this._userId!==this._idOwner&&this._deleteButton.remove(),this.setLikes(this._likes),this._setEventListeners(),this._element}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_showInputError",(function(e,t){var n=o._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(o._inputErrorClass),n.textContent=t,n.classList.add(o._errorClass)})),r(this,"_hideInputError",(function(e){var t=o._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(o._inputErrorClass),t.classList.remove(o._errorClass),t.textContent=""})),r(this,"_checkInputValidity",(function(e){e.validity.valid?o._hideInputError(e):o._showInputError(e,e.validationMessage)})),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=document.querySelector(n),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var t,o;return t=e,(o=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"resetValidationErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}},{key:"_setListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setListeners()}}])&&n(t.prototype,o),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e,t){var n=this;e.forEach((function(e){return n._renderer(e,t)}))}}])&&i(t.prototype,n),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._popupElement=document.querySelector(this._popupSelector),this._popupCloseButton=this._popupElement.querySelector(".popup__close"),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleOverlayClose",value:function(e){e.target.classList.contains("popup")&&this.close()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){return e._handleOverlayClose(t)})),this._popupCloseButton.addEventListener("click",(function(){return e.close()}))}}])&&u(t.prototype,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupImage=t._popupElement.querySelector(".popup__image"),t._popupImageTitle=t._popupElement.querySelector(".popup__image-caption"),t}return t=a,(n=[{key:"open",value:function(e,t){f(_(a.prototype),"open",this).call(this),this._popupImage.src=t,this._popupImage.alt=e,this._popupImageTitle.textContent=e}}])&&l(t.prototype,n),a}(c);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userJob=document.querySelector(r),this._userAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._profileData={name:this._userName.textContent,about:this._userJob.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._userName.textContent=t,this._userJob.textContent=n,this._userAvatar.src=r}}])&&y(t.prototype,n),e}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._popupForm=n._popupElement.querySelector(".popup__form"),n._inputList=n._popupElement.querySelectorAll(".popup__input"),n._button=n._popupForm.querySelector(".popup__button"),n._textButton=n._button.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;k(C(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){k(C(a.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"renderLoading",value:function(e){this._button.textContent=e?"Cохранение...":this._textButton}}])&&b(t.prototype,n),a}(c);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._formDelete=t._popupElement.querySelector(".popup__form"),t}return t=a,(n=[{key:"setDeleteAction",value:function(e){this._handleSubmit=e}},{key:"setEventListeners",value:function(){var e=this;this._formDelete.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()})),O(P(a.prototype),"setEventListeners",this).call(this)}}])&&L(t.prototype,n),a}(c);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._token=r.authorization,this._userUrl="".concat(this._baseUrl,"/users/me"),this._cardsUrl="".concat(this._baseUrl,"/cards"),this._likesUrl="".concat(this._baseUrl,"/cards/likes")}var t,n;return t=e,(n=[{key:"getUserData",value:function(){return fetch(this._userUrl,{headers:{authorization:this._token}}).then(this._checkResponse)}},{key:"saveUserChanges",value:function(e){var t=e.name,n=e.about;return fetch(this._userUrl,{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:n})}).then(this._checkResponse)}},{key:"getCards",value:function(){return fetch(this._cardsUrl,{headers:{authorization:this._token}}).then(this._checkResponse)}},{key:"changeAvatar",value:function(e){return fetch("".concat(this._userUrl,"/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e.link})}).then(this._checkResponse)}},{key:"postCard",value:function(e){var t=e.name,n=e.link;return fetch(this._cardsUrl,{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:n})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._cardsUrl,"/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then(this._checkResponse)}},{key:"likedCard",value:function(e){return fetch("".concat(this._likesUrl,"/").concat(e),{method:"PUT",headers:{authorization:this._token}}).then(this._checkResponse)}},{key:"dislikedCard",value:function(e){return fetch("".concat(this._likesUrl,"/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}])&&B(t.prototype,n),e}(),q={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},U=".popup_type_edit",x=".popup_type_add",V=".popup_type_edit-avatar",A=document.querySelector(".add-open"),D=document.querySelector(".edit-open"),z=document.querySelector(".profile__avatar-edit"),N=document.querySelector(".popup_type_edit").querySelectorAll(".popup__input"),F=new T({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"f33c969f-e357-4c49-a4b2-c8ed9c1630fb","Content-Type":"application/json"}});function J(e,t,n){t?F.dislikedCard(e).then((function(e){n.setLikes(e.likes)})).catch((function(e){console.log(e)})):F.likedCard(e).then((function(e){n.setLikes(e.likes)})).catch((function(e){console.log(e)}))}function H(e,t){W.open(e,t)}function M(e,t){X.setDeleteAction((function(){return function(e,t){F.deleteCard(e).then((function(){t.removeCard(),X.close()})).catch((function(e){console.log(e)}))}(e,t)})),X.open()}function G(e,n){return new t({data:e,handleCardClick:H,handleTrashClick:M,handleLikeClick:J},"#element-template",n).generateCard()}var K=new a({renderer:function(e,t){K.addItem(G(e,t))}},".elements"),Q=new v({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"}),W=new d(".popup_type_image"),X=new R(".popup_type_delete"),Y=new S(U,(function(e){Y.renderLoading(!0),F.saveUserChanges(e).then((function(e){Q.setUserInfo(e),Y.close()})).catch((function(e){console.log(e)})).finally((function(){Y.renderLoading(!1)}))})),Z=new S(x,(function(e){Z.renderLoading(!0),F.postCard(e).then((function(e){K.addItem(G(e,e.owner._id)),Z.close()})).catch((function(e){console.log(e)})).finally((function(){Z.renderLoading(!1)}))})),$=new S(V,(function(e){$.renderLoading(!0),F.changeAvatar(e).then((function(e){Q.setUserInfo(e),$.close()})).catch((function(e){console.log(e)})).finally((function(){$.renderLoading(!1)}))}));Promise.all([F.getUserData(),F.getCards()]).then((function(e){Q.setUserInfo(e[0]),K.renderItems(e[1],e[0]._id)})).catch((function(e){console.log(e)})),W.setEventListeners(),X.setEventListeners(),Y.setEventListeners(),Z.setEventListeners(),$.setEventListeners(),D.addEventListener("click",(function(){Y.open();var e=Q.getUserInfo();N.forEach((function(t){t.value=e[t.name]})),ee.resetValidationErrors()})),A.addEventListener("click",(function(){Z.open(),te.resetValidationErrors()})),z.addEventListener("click",(function(){$.open(),ne.resetValidationErrors()}));var ee=new o(q,U),te=new o(q,x),ne=new o(q,V);ee.enableValidation(),te.enableValidation(),ne.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkNhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwidXNlcklkIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVRyYXNoQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVUcmFzaENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9jYXJkU2VsZWN0b3IiLCJfdXNlcklkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkT3duZXIiLCJvd25lciIsIl9pZCIsIl9jYXJkSWQiLCJfbGlrZXMiLCJsaWtlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJhcnIiLCJfZWxlbWVudCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX2NoZWNrTGlrZSIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic29tZSIsImxpa2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUJ1dHRvbiIsIl9lbGVtZW50SW1hZ2UiLCJfZ2V0VGVtcGxhdGUiLCJzcmMiLCJhbHQiLCJzZXRMaWtlcyIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJwb3B1cFNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiaWQiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmb3JFYWNoIiwiaW5wdXQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3NldExpc3RlbmVycyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbSIsIlBvcHVwIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2UiLCJrZXkiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cEltYWdlVGl0bGUiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsIl91c2VyQXZhdGFyIiwiX3Byb2ZpbGVEYXRhIiwiYWJvdXQiLCJhdmF0YXIiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9idXR0b24iLCJfdGV4dEJ1dHRvbiIsIl9mb3JtVmFsdWVzIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaXNMb2FkaW5nIiwiUG9wdXBXaXRoRGVsZXRlIiwiX2Zvcm1EZWxldGUiLCJhY3Rpb24iLCJfaGFuZGxlU3VibWl0IiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl90b2tlbiIsIl91c2VyVXJsIiwiX2NhcmRzVXJsIiwiX2xpa2VzVXJsIiwiZmV0Y2giLCJhdXRob3JpemF0aW9uIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwidmFsaWRhdGlvblNldCIsInNlbGVjdG9ycyIsInBvcHVwQWRkT3BlbkJ1dHRvbiIsInBvcHVwRWRpdE9wZW5CdXR0b24iLCJwb3B1cEF2YXRhck9wZW5CdXR0b24iLCJwb3B1cEVkaXRJbnB1dHMiLCJhcGkiLCJpc0xpa2VkIiwiY2FyZCIsImRpc2xpa2VkQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImxpa2VkQ2FyZCIsInBvcHVwSW1hZ2UiLCJvcGVuIiwicG9wdXBEZWxldGVDYXJkIiwic2V0RGVsZXRlQWN0aW9uIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUNhcmQiLCJoYW5kbGVQb3B1cERlbGV0ZSIsImNyZWF0ZUNhcmQiLCJkYXRhQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImNhcmRMaXN0IiwiY2FyZEl0ZW0iLCJhZGRJdGVtIiwidXNlckluZm8iLCJwb3B1cEVkaXRGb3JtIiwiaW5wdXRzRGF0YSIsInJlbmRlckxvYWRpbmciLCJzYXZlVXNlckNoYW5nZXMiLCJzZXRVc2VySW5mbyIsImZpbmFsbHkiLCJwb3B1cEFkZEZvcm0iLCJwb3N0Q2FyZCIsInBvcHVwQXZhdGFyRm9ybSIsImNoYW5nZUF2YXRhciIsImFsbCIsImdldFVzZXJEYXRhIiwiZ2V0Q2FyZHMiLCJ2YWx1ZXMiLCJyZW5kZXJJdGVtcyIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckRhdGEiLCJnZXRVc2VySW5mbyIsImVkaXRGb3JtVmFsaWRhdG9yIiwicmVzZXRWYWxpZGF0aW9uRXJyb3JzIiwiYWRkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIl0sIm1hcHBpbmdzIjoiNkxBQXFCQSxFLFdBQ25CLGFBRUVDLEVBQ0FDLEdBQ0EsSUFIRUMsRUFHRixFQUhFQSxLQUFNQyxFQUdSLEVBSFFBLGdCQUFpQkMsRUFHekIsRUFIeUJBLGlCQUFrQkMsRUFHM0MsRUFIMkNBLGlCLDRGQUczQyxTQUNBQyxLQUFLQyxpQkFBbUJKLEVBQ3hCRyxLQUFLRSxrQkFBb0JKLEVBQ3pCRSxLQUFLRyxpQkFBbUJKLEVBQ3hCQyxLQUFLSSxjQUFnQlYsRUFDckJNLEtBQUtLLFFBQVVWLEVBQ2ZLLEtBQUtNLE1BQVFWLEVBQUtXLEtBQ2xCUCxLQUFLUSxNQUFRWixFQUFLYSxLQUNsQlQsS0FBS1UsU0FBV2QsRUFBS2UsTUFBTUMsSUFDM0JaLEtBQUthLFFBQVVqQixFQUFLZ0IsSUFDcEJaLEtBQUtjLE9BQVNsQixFQUFLbUIsTSxpREFHckIsV0FNRSxPQUxvQkMsU0FDakJDLGNBQWNqQixLQUFLSSxlQUNuQmMsUUFBUUQsY0FBYyxZQUN0QkUsV0FBVSxLLHNCQUtmLFNBQVNDLEdBQ1BwQixLQUFLcUIsU0FBU0osY0FBYywwQkFBMEJLLFlBQ3BERixFQUFJRyxPQUNOdkIsS0FBS2MsT0FBU00sRUFDVnBCLEtBQUt3QixhQUNQeEIsS0FBS3lCLFlBQVlDLFVBQVVDLElBQUksd0JBRS9CM0IsS0FBS3lCLFlBQVlDLFVBQVVFLE9BQU8sMEIsd0JBSXRDLFdBQ0U1QixLQUFLcUIsU0FBU08sU0FDZDVCLEtBQUtxQixTQUFXLE8sd0JBR2xCLFdBQWEsV0FDWCxPQUFPckIsS0FBS2MsT0FBT2UsTUFBSyxTQUFDQyxHQUN2QixPQUFPQSxFQUFLbEIsTUFBUSxFQUFLUCxhLGdDQUk3QixXQUFxQixXQUNuQkwsS0FBS3lCLFlBQVlNLGlCQUFpQixTQUFTLFdBQ3pDLEVBQUs1QixpQkFBaUIsRUFBS1UsUUFBUyxFQUFLVyxhQUFjLE1BRXpEeEIsS0FBS2dDLGNBQWNELGlCQUFpQixTQUFTLFdBQzNDLEVBQUs3QixrQkFBa0IsRUFBS1csUUFBUyxNQUV2Q2IsS0FBS2lDLGNBQWNGLGlCQUFpQixTQUFTLFdBQzNDLEVBQUs5QixpQkFBaUIsRUFBS0ssTUFBTyxFQUFLRSxZLDBCQUkzQyxXQWlCRSxPQWhCQVIsS0FBS3FCLFNBQVdyQixLQUFLa0MsZUFDckJsQyxLQUFLaUMsY0FBZ0JqQyxLQUFLcUIsU0FBU0osY0FBYyxtQkFDakRqQixLQUFLaUMsY0FBY0UsSUFBTW5DLEtBQUtRLE1BQzlCUixLQUFLaUMsY0FBY0csSUFBTXBDLEtBQUtNLE1BQzlCTixLQUFLcUIsU0FBU0osY0FBYyxtQkFBbUJLLFlBQWN0QixLQUFLTSxNQUVsRU4sS0FBS2dDLGNBQWdCaEMsS0FBS3FCLFNBQVNKLGNBQWMsbUJBQ2pEakIsS0FBS3lCLFlBQWN6QixLQUFLcUIsU0FBU0osY0FBYyxrQkFFM0NqQixLQUFLSyxVQUFZTCxLQUFLVSxVQUN4QlYsS0FBS2dDLGNBQWNKLFNBR3JCNUIsS0FBS3FDLFNBQVNyQyxLQUFLYyxRQUNuQmQsS0FBS3NDLHFCQUVFdEMsS0FBS3FCLGMsd1RDOUVLa0IsRSxXQUNuQixXQUFZQyxFQUFRQyxHQUFlLFksNEZBQUEsbUNBZ0JqQixTQUFDQyxFQUFjQyxHQUMvQixJQUFNQyxFQUFlLEVBQUtDLGFBQWE1QixjQUFsQixXQUNmeUIsRUFBYUksR0FERSxXQUdyQkosRUFBYWhCLFVBQVVDLElBQUksRUFBS29CLGtCQUNoQ0gsRUFBYXRCLFlBQWNxQixFQUMzQkMsRUFBYWxCLFVBQVVDLElBQUksRUFBS3FCLGdCQXRCQywwQkF5QmpCLFNBQUNOLEdBQ2pCLElBQU1FLEVBQWUsRUFBS0MsYUFBYTVCLGNBQWxCLFdBQ2Z5QixFQUFhSSxHQURFLFdBR3JCSixFQUFhaEIsVUFBVUUsT0FBTyxFQUFLbUIsa0JBQ25DSCxFQUFhbEIsVUFBVUUsT0FBTyxFQUFLb0IsYUFDbkNKLEVBQWF0QixZQUFjLE1BL0JNLDhCQWtDYixTQUFDb0IsR0FDaEJBLEVBQWFPLFNBQVNDLE1BR3pCLEVBQUtDLGdCQUFnQlQsR0FGckIsRUFBS1UsZ0JBQWdCVixFQUFjQSxFQUFhVyxzQkFuQ2xEckQsS0FBS3NELGNBQWdCZCxFQUFPZSxhQUM1QnZELEtBQUt3RCxlQUFpQmhCLEVBQU9pQixjQUM3QnpELEtBQUswRCxzQkFBd0JsQixFQUFPbUIscUJBQ3BDM0QsS0FBSzRELHFCQUF1QnBCLEVBQU9xQixvQkFDbkM3RCxLQUFLK0MsaUJBQW1CUCxFQUFPc0IsZ0JBQy9COUQsS0FBS2dELFlBQWNSLEVBQU91QixXQUMxQi9ELEtBQUs2QyxhQUFlN0IsU0FBU0MsY0FBY3dCLEdBQzNDekMsS0FBS2dFLFdBQWFDLE1BQU1DLEtBQ3RCbEUsS0FBSzZDLGFBQWFzQixpQkFBaUJuRSxLQUFLd0QsaUJBRTFDeEQsS0FBS29FLGVBQWlCcEUsS0FBSzZDLGFBQWE1QixjQUN0Q2pCLEtBQUswRCx1QixxREE4QlQsV0FDRSxPQUFPMUQsS0FBS2dFLFdBQVduQyxNQUFLLFNBQUNhLEdBQzNCLE9BQVFBLEVBQWFPLFNBQVNDLFcsZ0NBSWxDLFdBQ01sRCxLQUFLcUUsb0JBQ1ByRSxLQUFLb0UsZUFBZTFDLFVBQVVDLElBQUkzQixLQUFLNEQsc0JBQ3ZDNUQsS0FBS29FLGVBQWVFLGFBQWEsWUFBWSxLQUU3Q3RFLEtBQUtvRSxlQUFlMUMsVUFBVUUsT0FBTzVCLEtBQUs0RCxzQkFDMUM1RCxLQUFLb0UsZUFBZUcsZ0JBQWdCLGUsbUNBSXhDLFdBQXdCLFdBQ3RCdkUsS0FBS2dFLFdBQVdRLFNBQVEsU0FBQ0MsR0FDdkIsRUFBS3RCLGdCQUFnQnNCLE1BRXZCekUsS0FBSzBFLHVCLDJCQUdQLFdBQWdCLFdBQ2QxRSxLQUFLMEUscUJBRUwxRSxLQUFLZ0UsV0FBV1EsU0FBUSxTQUFDOUIsR0FDdkJBLEVBQWFYLGlCQUFpQixTQUFTLFdBQ3JDLEVBQUs0QyxvQkFBb0JqQyxHQUN6QixFQUFLZ0MsNkIsOEJBS1gsV0FDRTFFLEtBQUs0RSxxQixnTUM5RVlDLEUsV0FDbkIsYUFBMEJDLEdBQW1CLElBQS9CQyxFQUErQixFQUEvQkEsVSw0RkFBK0IsU0FDM0MvRSxLQUFLZ0YsVUFBWUQsRUFDakIvRSxLQUFLaUYsV0FBYWpFLFNBQVNDLGNBQWM2RCxHLDRDQUczQyxTQUFRSSxHQUNObEYsS0FBS2lGLFdBQVdFLFFBQVFELEsseUJBRzFCLFNBQVk5RCxFQUFLMEIsR0FBSSxXQUNuQjFCLEVBQUlvRCxTQUFRLFNBQUNZLEdBQUQsT0FBVSxFQUFLSixVQUFVSSxFQUFNdEMsVyxnTUNYMUJ1QyxFLFdBQ25CLFdBQVk1QyxJLDRGQUFlLFNBQ3pCekMsS0FBS3NGLGVBQWlCN0MsRUFDdEJ6QyxLQUFLdUYsY0FBZ0J2RSxTQUFTQyxjQUFjakIsS0FBS3NGLGdCQUNqRHRGLEtBQUt3RixrQkFBb0J4RixLQUFLdUYsY0FBY3RFLGNBQWMsaUJBQzFEakIsS0FBS3lGLGdCQUFrQnpGLEtBQUt5RixnQkFBZ0JDLEtBQUsxRixNLHlDQUduRCxXQUNFQSxLQUFLdUYsY0FBYzdELFVBQVVDLElBQUksZ0JBQ2pDWCxTQUFTZSxpQkFBaUIsVUFBVy9CLEtBQUt5RixtQixtQkFHNUMsV0FDRXpGLEtBQUt1RixjQUFjN0QsVUFBVUUsT0FBTyxnQkFDcENaLFNBQVMyRSxvQkFBb0IsVUFBVzNGLEtBQUt5RixtQixpQ0FHL0MsU0FBb0JHLEdBQ2RBLEVBQUlDLE9BQU9uRSxVQUFVb0UsU0FBUyxVQUNoQzlGLEtBQUsrRixVLDZCQUlULFNBQWdCSCxHQUNFLFdBQVpBLEVBQUlJLEtBQ05oRyxLQUFLK0YsVSwrQkFJVCxXQUFvQixXQUNsQi9GLEtBQUt1RixjQUFjeEQsaUJBQWlCLFNBQVMsU0FBQzZELEdBQUQsT0FDM0MsRUFBS0ssb0JBQW9CTCxNQUUzQjVGLEtBQUt3RixrQkFBa0J6RCxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLZ0UsZ0Isd21DQ2hDM0NHLEUsdXBCQUNuQixXQUFZekQsR0FBZSxhLDRGQUFBLFVBQ3pCLGNBQU1BLElBQ0QwRCxZQUFjLEVBQUtaLGNBQWN0RSxjQUFjLGlCQUNwRCxFQUFLbUYsaUJBQW1CLEVBQUtiLGNBQWN0RSxjQUN6Qyx5QkFKdUIsRSxpQ0FRM0IsU0FBS1YsRUFBTUUsR0FDVCx5Q0FDQVQsS0FBS21HLFlBQVloRSxJQUFNMUIsRUFDdkJULEtBQUttRyxZQUFZL0QsSUFBTTdCLEVBQ3ZCUCxLQUFLb0csaUJBQWlCOUUsWUFBY2YsTyxvQkFiSThFLEcsMEtDRnZCZ0IsRSxXQUNuQixjQUEyRCxJQUE3Q0MsRUFBNkMsRUFBN0NBLGFBQWNDLEVBQStCLEVBQS9CQSxZQUFhQyxFQUFrQixFQUFsQkEsZ0IsNEZBQWtCLFNBQ3pEeEcsS0FBS3lHLFVBQVl6RixTQUFTQyxjQUFjcUYsR0FDeEN0RyxLQUFLMEcsU0FBVzFGLFNBQVNDLGNBQWNzRixHQUN2Q3ZHLEtBQUsyRyxZQUFjM0YsU0FBU0MsY0FBY3VGLEcsZ0RBRzVDLFdBQ0UsT0FBUXhHLEtBQUs0RyxhQUFlLENBQzFCckcsS0FBTVAsS0FBS3lHLFVBQVVuRixZQUNyQnVGLE1BQU83RyxLQUFLMEcsU0FBU3BGLGUseUJBSXpCLFlBQXFDLElBQXZCZixFQUF1QixFQUF2QkEsS0FBTXNHLEVBQWlCLEVBQWpCQSxNQUFPQyxFQUFVLEVBQVZBLE9BQ3pCOUcsS0FBS3lHLFVBQVVuRixZQUFjZixFQUM3QlAsS0FBSzBHLFNBQVNwRixZQUFjdUYsRUFDNUI3RyxLQUFLMkcsWUFBWXhFLElBQU0yRSxPLHdtQ0NmTkMsRSx1cEJBQ25CLFdBQVl0RSxFQUFldUUsR0FBa0IsYSw0RkFBQSxVQUMzQyxjQUFNdkUsSUFDRHdFLGtCQUFvQkQsRUFDekIsRUFBS0UsV0FBYSxFQUFLM0IsY0FBY3RFLGNBQWMsZ0JBQ25ELEVBQUsrQyxXQUFhLEVBQUt1QixjQUFjcEIsaUJBQWlCLGlCQUN0RCxFQUFLZ0QsUUFBVSxFQUFLRCxXQUFXakcsY0FBYyxrQkFDN0MsRUFBS21HLFlBQWMsRUFBS0QsUUFBUTdGLFlBTlcsRSw0Q0FTN0MsV0FBa0IsV0FLaEIsT0FKQXRCLEtBQUtxSCxZQUFjLEdBQ25CckgsS0FBS2dFLFdBQVdRLFNBQVEsU0FBQ0MsR0FDdkIsRUFBSzRDLFlBQVk1QyxFQUFNbEUsTUFBUWtFLEVBQU02QyxTQUVoQ3RILEtBQUtxSCxjLCtCQUdkLFdBQW9CLFdBQ2xCLHNEQUNBckgsS0FBS2tILFdBQVduRixpQkFBaUIsVUFBVSxTQUFDNkQsR0FDMUNBLEVBQUkyQixpQkFDSixFQUFLTixrQkFBa0IsRUFBS08sd0IsbUJBSWhDLFdBQ0UsMENBQ0F4SCxLQUFLa0gsV0FBV08sVSwyQkFHbEIsU0FBY0MsR0FFVjFILEtBQUttSCxRQUFRN0YsWUFEWG9HLEVBQ0YsZ0JBRTJCMUgsS0FBS29ILGlCLG9CQW5DSy9CLEcsa2xDQ0F0QnNDLEUsdXBCQUNuQixXQUFZbEYsR0FBZSxhLDRGQUFBLFVBQ3pCLGNBQU1BLElBQ0RtRixZQUFjLEVBQUtyQyxjQUFjdEUsY0FBYyxnQkFGM0IsRSw0Q0FLM0IsU0FBZ0I0RyxHQUNkN0gsS0FBSzhILGNBQWdCRCxJLCtCQUd2QixXQUFvQixXQUNsQjdILEtBQUs0SCxZQUFZN0YsaUJBQWlCLFVBQVUsU0FBQzZELEdBQzNDQSxFQUFJMkIsaUJBQ0osRUFBS08sbUJBRVAsMkQsb0JBZnlDekMsRywwS0NGeEIwQyxFLFdBQ25CLGNBQWtDLElBQXBCQyxFQUFvQixFQUFwQkEsUUFBU0MsRUFBVyxFQUFYQSxTLDRGQUFXLFNBQ2hDakksS0FBS2tJLFNBQVdGLEVBQ2hCaEksS0FBS21JLE9BQVNGLEVBQU8sY0FDckJqSSxLQUFLb0ksU0FBTCxVQUFtQnBJLEtBQUtrSSxTQUF4QixhQUNBbEksS0FBS3FJLFVBQUwsVUFBb0JySSxLQUFLa0ksU0FBekIsVUFDQWxJLEtBQUtzSSxVQUFMLFVBQW9CdEksS0FBS2tJLFNBQXpCLGdCLGdEQUdGLFdBQ0UsT0FBT0ssTUFBTXZJLEtBQUtvSSxTQUFVLENBQzFCSCxRQUFTLENBQ1BPLGNBQWV4SSxLQUFLbUksVUFFckJNLEtBQUt6SSxLQUFLMEksa0IsNkJBR2YsWUFBaUMsSUFBZm5JLEVBQWUsRUFBZkEsS0FBTXNHLEVBQVMsRUFBVEEsTUFDdEIsT0FBTzBCLE1BQU12SSxLQUFLb0ksU0FBVSxDQUMxQk8sT0FBUSxRQUNSVixRQUFTLENBQ1BPLGNBQWV4SSxLQUFLbUksT0FDcEIsZUFBZ0Isb0JBRWxCUyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CdkksS0FBTUEsRUFDTnNHLE1BQU9BLE1BRVI0QixLQUFLekksS0FBSzBJLGtCLHNCQUdmLFdBQ0UsT0FBT0gsTUFBTXZJLEtBQUtxSSxVQUFXLENBQzNCSixRQUFTLENBQ1BPLGNBQWV4SSxLQUFLbUksVUFFckJNLEtBQUt6SSxLQUFLMEksa0IsMEJBR2YsU0FBYXZHLEdBQ1gsT0FBT29HLE1BQU0sR0FBRCxPQUFJdkksS0FBS29JLFNBQVQsV0FBNEIsQ0FDdENPLE9BQVEsUUFDUlYsUUFBUyxDQUNQTyxjQUFleEksS0FBS21JLE9BQ3BCLGVBQWdCLG9CQUVsQlMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQmhDLE9BQVEzRSxFQUFJMUIsU0FFYmdJLEtBQUt6SSxLQUFLMEksa0Isc0JBR2YsWUFBeUIsSUFBZG5JLEVBQWMsRUFBZEEsS0FBTUUsRUFBUSxFQUFSQSxLQUNmLE9BQU84SCxNQUFNdkksS0FBS3FJLFVBQVcsQ0FDM0JNLE9BQVEsT0FDUlYsUUFBUyxDQUNQTyxjQUFleEksS0FBS21JLE9BQ3BCLGVBQWdCLG9CQUVsQlMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnZJLEtBQU1BLEVBQ05FLEtBQU1BLE1BRVBnSSxLQUFLekksS0FBSzBJLGtCLHdCQUdmLFNBQVdLLEdBQ1QsT0FBT1IsTUFBTSxHQUFELE9BQUl2SSxLQUFLcUksVUFBVCxZQUFzQlUsR0FBVSxDQUMxQ0osT0FBUSxTQUNSVixRQUFTLENBQ1BPLGNBQWV4SSxLQUFLbUksVUFFckJNLEtBQUt6SSxLQUFLMEksa0IsdUJBR2YsU0FBVUssR0FDUixPQUFPUixNQUFNLEdBQUQsT0FBSXZJLEtBQUtzSSxVQUFULFlBQXNCUyxHQUFVLENBQzFDSixPQUFRLE1BQ1JWLFFBQVMsQ0FDUE8sY0FBZXhJLEtBQUttSSxVQUVyQk0sS0FBS3pJLEtBQUswSSxrQiwwQkFHZixTQUFhSyxHQUNYLE9BQU9SLE1BQU0sR0FBRCxPQUFJdkksS0FBS3NJLFVBQVQsWUFBc0JTLEdBQVUsQ0FDMUNKLE9BQVEsU0FDUlYsUUFBUyxDQUNQTyxjQUFleEksS0FBS21JLFVBRXJCTSxLQUFLekksS0FBSzBJLGtCLDRCQUdmLFNBQWVNLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBUixrQkFBMEJKLEVBQUlLLGMsc0JDakc1QkMsRUFBZ0IsQ0FDM0IvRixhQUFjLGVBQ2RFLGNBQWUsZ0JBQ2ZFLHFCQUFzQixpQkFDdEJFLG9CQUFxQix5QkFDckJDLGdCQUFpQiwwQkFDakJDLFdBQVksd0JBR0R3RixFQUVRLG1CQUZSQSxFQUdPLGtCQUhQQSxFQUlVLDBCQVVWQyxFQUFxQnhJLFNBQVNDLGNBQWMsYUFDNUN3SSxFQUFzQnpJLFNBQVNDLGNBQWMsY0FDN0N5SSxFQUF3QjFJLFNBQVNDLGNBQzVDLHlCQUdXMEksRUFESzNJLFNBQVNDLGNBQWMsb0JBQ0FrRCxpQkFBaUIsaUJDVnBEeUYsRUFBTSxJQUFJN0IsRUFBSSxDQUNsQkMsUUFBUyw4Q0FDVEMsUUFBUyxDQUNQTyxjQUFlLHVDQUNmLGVBQWdCLHNCQUlwQixTQUFTekksRUFBZ0IrQyxFQUFJK0csRUFBU0MsR0FDaENELEVBQ0ZELEVBQ0dHLGFBQWFqSCxHQUNiMkYsTUFBSyxTQUFDN0ksR0FDTGtLLEVBQUt6SCxTQUFTekMsRUFBS21CLFVBRXBCaUosT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixNQUdoQkwsRUFDR1EsVUFBVXRILEdBQ1YyRixNQUFLLFNBQUM3SSxHQUNMa0ssRUFBS3pILFNBQVN6QyxFQUFLbUIsVUFFcEJpSixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLE1BaUVwQixTQUFTcEssRUFBZ0JVLEVBQU1FLEdBQzdCNEosRUFBV0MsS0FBSy9KLEVBQU1FLEdBR3hCLFNBQVNYLEVBQWlCZ0QsRUFBSWdILEdBQzVCUyxFQUFnQkMsaUJBQWdCLGtCQWpFbEMsU0FBMkIxSCxFQUFJZ0gsR0FDN0JGLEVBQ0dhLFdBQVczSCxHQUNYMkYsTUFBSyxXQUNKcUIsRUFBS1ksYUFDTEgsRUFBZ0J4RSxXQUVqQmlFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUF5RHNCVSxDQUFrQjdILEVBQUlnSCxNQUM1RFMsRUFBZ0JELE9BR2xCLFNBQVNNLEVBQVdDLEVBQVUvSCxHQWE1QixPQVphLElBQUlyRCxFQUNmLENBQ0VHLEtBQU1pTCxFQUNOaEwsa0JBQ0FDLG1CQUNBQyxtQkR6R0ksb0JDNEdOK0MsR0FHbUJnSSxlQUl2QixJQUFNQyxFQUFXLElBQUlsRyxFQUNuQixDQUNFRSxTQUFVLFNBQUNpRyxFQUFVbEksR0FDbkJpSSxFQUFTRSxRQUFRTCxFQUFXSSxFQUFVbEksTUQxSHhCLGFDZ0lkb0ksRUFBVyxJQUFJN0UsRUFBUyxDQUM1QkMsYURoSWMsaUJDaUlkQyxZRGhJYSxnQkNpSWJDLGVEaElnQixxQkNtSVo2RCxFQUFhLElBQUluRSxFRDNJRCxxQkM2SWhCcUUsRUFBa0IsSUFBSTVDLEVEeklMLHNCQzJJakJ3RCxFQUFnQixJQUFJcEUsRUFDeEJ3QyxHQTdGRixTQUF5QjZCLEdBQ3ZCRCxFQUFjRSxlQUFjLEdBQzVCekIsRUFDRzBCLGdCQUFnQkYsR0FDaEIzQyxNQUFLLFNBQUM3SSxHQUNMc0wsRUFBU0ssWUFBWTNMLEdBQ3JCdUwsRUFBY3BGLFdBRWZpRSxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLE1BRWJ1QixTQUFRLFdBQ1BMLEVBQWNFLGVBQWMsU0FvRjVCSSxFQUFlLElBQUkxRSxFQUN2QndDLEdBakZGLFNBQXdCNkIsR0FDdEJLLEVBQWFKLGVBQWMsR0FDM0J6QixFQUNHOEIsU0FBU04sR0FDVDNDLE1BQUssU0FBQzdJLEdBQ0xtTCxFQUFTRSxRQUFRTCxFQUFXaEwsRUFBTUEsRUFBS2UsTUFBTUMsTUFDN0M2SyxFQUFhMUYsV0FFZGlFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFFYnVCLFNBQVEsV0FDUEMsRUFBYUosZUFBYyxTQXdFM0JNLEVBQWtCLElBQUk1RSxFQUMxQndDLEdBckVGLFNBQTJCNkIsR0FDekJPLEVBQWdCTixlQUFjLEdBQzlCekIsRUFDR2dDLGFBQWFSLEdBQ2IzQyxNQUFLLFNBQUM3SSxHQUNMc0wsRUFBU0ssWUFBWTNMLEdBQ3JCK0wsRUFBZ0I1RixXQUVqQmlFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFFYnVCLFNBQVEsV0FDUEcsRUFBZ0JOLGVBQWMsU0E2RHBDbEMsUUFBUTBDLElBQUksQ0FBQ2pDLEVBQUlrQyxjQUFlbEMsRUFBSW1DLGFBQ2pDdEQsTUFBSyxTQUFDdUQsR0FDTGQsRUFBU0ssWUFBWVMsRUFBTyxJQUM1QmpCLEVBQVNrQixZQUFZRCxFQUFPLEdBQUlBLEVBQU8sR0FBR3BMLFFBRTNDb0osT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixNQUdoQkksRUFBVzZCLG9CQUNYM0IsRUFBZ0IyQixvQkFDaEJmLEVBQWNlLG9CQUNkVCxFQUFhUyxvQkFDYlAsRUFBZ0JPLG9CQUVoQnpDLEVBQW9CMUgsaUJBQWlCLFNBQVMsV0FDNUNvSixFQUFjYixPQUNkLElBQU02QixFQUFXakIsRUFBU2tCLGNBQzFCekMsV0FBd0IsU0FBQ2xGLEdBQ3ZCQSxFQUFNNkMsTUFBUTZFLEVBQVMxSCxFQUFNbEUsU0FFL0I4TCxHQUFrQkMsMkJBR3BCOUMsRUFBbUJ6SCxpQkFBaUIsU0FBUyxXQUMzQzBKLEVBQWFuQixPQUNiaUMsR0FBaUJELDJCQUduQjVDLEVBQXNCM0gsaUJBQWlCLFNBQVMsV0FDOUM0SixFQUFnQnJCLE9BQ2hCa0MsR0FBb0JGLDJCQUd0QixJQUFNRCxHQUFvQixJQUFJOUosRUFDNUIrRyxFQUNBQyxHQUVJZ0QsR0FBbUIsSUFBSWhLLEVBQzNCK0csRUFDQUMsR0FFSWlELEdBQXNCLElBQUlqSyxFQUM5QitHLEVBQ0FDLEdBR0Y4QyxHQUFrQkksbUJBQ2xCRixHQUFpQkUsbUJBQ2pCRCxHQUFvQkMsb0IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgeyBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZVRyYXNoQ2xpY2ssIGhhbmRsZUxpa2VDbGljayB9LFxyXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcclxuICAgIHVzZXJJZFxyXG4gICkge1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlVHJhc2hDbGljayA9IGhhbmRsZVRyYXNoQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pZE93bmVyID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlcyhhcnIpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWNvdW50ZXJcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICBhcnIubGVuZ3RoO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBhcnI7XHJcbiAgICBpZiAodGhpcy5fY2hlY2tMaWtlKCkpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tMaWtlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IHtcclxuICAgICAgcmV0dXJuIGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2NhcmRJZCwgdGhpcy5fY2hlY2tMaWtlKCksIHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlVHJhc2hDbGljayh0aGlzLl9jYXJkSWQsIHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190cmFzaFwiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZVwiKTtcclxuXHJcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9pZE93bmVyKSB7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldExpa2VzKHRoaXMuX2xpa2VzKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uRXJyb3JzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIF9zZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoYXJyLCBpZCkge1xyXG4gICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0sIGlkKSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKGV2dClcclxuICAgICk7XHJcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9faW1hZ2UtY2FwdGlvblwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLl9wcm9maWxlRGF0YSA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl91c2VySm9iLnRleHRDb250ZW50LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgdGhpcy5fdXNlckF2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fdGV4dEJ1dHRvbiA9IHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBgQ9C+0YXRgNCw0L3QtdC90LjQtS4uLmA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0QnV0dG9uO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1EZWxldGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIHNldERlbGV0ZUFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybURlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX3Rva2VuID0gaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl07XHJcbiAgICB0aGlzLl91c2VyVXJsID0gYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgO1xyXG4gICAgdGhpcy5fY2FyZHNVcmwgPSBgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2A7XHJcbiAgICB0aGlzLl9saWtlc1VybCA9IGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzYDtcclxuICB9XHJcblxyXG4gIGdldFVzZXJEYXRhKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VzZXJVcmwsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHNhdmVVc2VyQ2hhbmdlcyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl91c2VyVXJsLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fY2FyZHNVcmwsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUF2YXRhcihzcmMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91c2VyVXJsfS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IHNyYy5saW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBwb3N0Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2NhcmRzVXJsLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9jYXJkc1VybH0vJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBsaWtlZENhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fbGlrZXNVcmx9LyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGlzbGlrZWRDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpa2VzVXJsfS8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0ID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgcG9wdXBJbWFnZVNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX2ltYWdlXCIsXHJcbiAgcG9wdXBFZGl0U2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfZWRpdFwiLFxyXG4gIHBvcHVwQWRkU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfYWRkXCIsXHJcbiAgcG9wdXBBdmF0YXJTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9lZGl0LWF2YXRhclwiLFxyXG4gIHBvcHVwRGVsZXRlU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIsXHJcbiAgZWxlbWVudHNTZWxlY3RvcjogXCIuZWxlbWVudHNcIixcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fam9iXCIsXHJcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxyXG4gIGNhcmRJZDogXCIjZWxlbWVudC10ZW1wbGF0ZVwiLFxyXG4gIHRyYXNoQ2FyZDogXCIuZWxlbWVudF9fdHJhc2hcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1vcGVuXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0T3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1vcGVuXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXJPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19hdmF0YXItZWRpdFwiXHJcbik7XHJcbmNvbnN0IHBvcHVwRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9lZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0SW5wdXRzID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpOyIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aERlbGV0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICBwb3B1cEFkZE9wZW5CdXR0b24sXHJcbiAgcG9wdXBFZGl0T3BlbkJ1dHRvbixcclxuICBwb3B1cEF2YXRhck9wZW5CdXR0b24sXHJcbiAgcG9wdXBFZGl0SW5wdXRzLFxyXG4gIHNlbGVjdG9ycyxcclxuICB2YWxpZGF0aW9uU2V0LFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNlwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZjMzYzk2OWYtZTM1Ny00YzQ5LWE0YjItYzhlZDljMTYzMGZiXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhpZCwgaXNMaWtlZCwgY2FyZCkge1xyXG4gIGlmIChpc0xpa2VkKSB7XHJcbiAgICBhcGlcclxuICAgICAgLmRpc2xpa2VkQ2FyZChpZClcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjYXJkLnNldExpa2VzKGRhdGEubGlrZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGlcclxuICAgICAgLmxpa2VkQ2FyZChpZClcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjYXJkLnNldExpa2VzKGRhdGEubGlrZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlUG9wdXBEZWxldGUoaWQsIGNhcmQpIHtcclxuICBhcGlcclxuICAgIC5kZWxldGVDYXJkKGlkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQb3B1cEVkaXQoaW5wdXRzRGF0YSkge1xyXG4gIHBvcHVwRWRpdEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5zYXZlVXNlckNoYW5nZXMoaW5wdXRzRGF0YSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBwb3B1cEVkaXRGb3JtLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwRWRpdEZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlUG9wdXBBZGQoaW5wdXRzRGF0YSkge1xyXG4gIHBvcHVwQWRkRm9ybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLnBvc3RDYXJkKGlucHV0c0RhdGEpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSwgZGF0YS5vd25lci5faWQpKTtcclxuICAgICAgcG9wdXBBZGRGb3JtLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwQWRkRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQb3B1cEF2YXRhcihpbnB1dHNEYXRhKSB7XHJcbiAgcG9wdXBBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuY2hhbmdlQXZhdGFyKGlucHV0c0RhdGEpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgcG9wdXBBdmF0YXJGb3JtLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwQXZhdGFyRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xyXG4gIHBvcHVwSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlVHJhc2hDbGljayhpZCwgY2FyZCkge1xyXG4gIHBvcHVwRGVsZXRlQ2FyZC5zZXREZWxldGVBY3Rpb24oKCkgPT4gaGFuZGxlUG9wdXBEZWxldGUoaWQsIGNhcmQpKTtcclxuICBwb3B1cERlbGV0ZUNhcmQub3BlbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGFDYXJkLCBpZCkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgZGF0YTogZGF0YUNhcmQsXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgaGFuZGxlVHJhc2hDbGljayxcclxuICAgICAgaGFuZGxlTGlrZUNsaWNrLFxyXG4gICAgfSxcclxuICAgIHNlbGVjdG9ycy5jYXJkSWQsXHJcbiAgICBpZFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IG5ld0NhcmQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBuZXdDYXJkO1xyXG59XHJcblxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoY2FyZEl0ZW0sIGlkKSA9PiB7XHJcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkSXRlbSwgaWQpKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBzZWxlY3RvcnMuZWxlbWVudHNTZWxlY3RvclxyXG4pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3Rvcjogc2VsZWN0b3JzLm5hbWVTZWxlY3RvcixcclxuICBqb2JTZWxlY3Rvcjogc2VsZWN0b3JzLmpvYlNlbGVjdG9yLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBzZWxlY3RvcnMuYXZhdGFyU2VsZWN0b3IsXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMucG9wdXBJbWFnZVNlbGVjdG9yKTtcclxuXHJcbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhEZWxldGUoc2VsZWN0b3JzLnBvcHVwRGVsZXRlU2VsZWN0b3IpO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHNlbGVjdG9ycy5wb3B1cEVkaXRTZWxlY3RvcixcclxuICBoYW5kbGVQb3B1cEVkaXRcclxuKTtcclxuY29uc3QgcG9wdXBBZGRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgc2VsZWN0b3JzLnBvcHVwQWRkU2VsZWN0b3IsXHJcbiAgaGFuZGxlUG9wdXBBZGRcclxuKTtcclxuY29uc3QgcG9wdXBBdmF0YXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgc2VsZWN0b3JzLnBvcHVwQXZhdGFyU2VsZWN0b3IsXHJcbiAgaGFuZGxlUG9wdXBBdmF0YXJcclxuKTtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckRhdGEoKSwgYXBpLmdldENhcmRzKCldKVxyXG4gIC50aGVuKCh2YWx1ZXMpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHZhbHVlc1swXSk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyh2YWx1ZXNbMV0sIHZhbHVlc1swXS5faWQpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG5wb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwRGVsZXRlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEVkaXRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQWRkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnBvcHVwRWRpdE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEVkaXRGb3JtLm9wZW4oKTtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcG9wdXBFZGl0SW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBpbnB1dC52YWx1ZSA9IHVzZXJEYXRhW2lucHV0Lm5hbWVdO1xyXG4gIH0pO1xyXG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbkVycm9ycygpO1xyXG59KTtcclxuXHJcbnBvcHVwQWRkT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQWRkRm9ybS5vcGVuKCk7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb25FcnJvcnMoKTtcclxufSk7XHJcblxyXG5wb3B1cEF2YXRhck9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEF2YXRhckZvcm0ub3BlbigpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uRXJyb3JzKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uU2V0LFxyXG4gIHNlbGVjdG9ycy5wb3B1cEVkaXRTZWxlY3RvclxyXG4pO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvblNldCxcclxuICBzZWxlY3RvcnMucG9wdXBBZGRTZWxlY3RvclxyXG4pO1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvblNldCxcclxuICBzZWxlY3RvcnMucG9wdXBBdmF0YXJTZWxlY3RvclxyXG4pO1xyXG5cclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=